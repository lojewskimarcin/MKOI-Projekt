function checkVisibility(){var e=$("#blum-micali_cb");var t=$("#rsa_cb");if(e.prop("checked")||t.prop("checked")){$("#submit_btn").attr("disabled",false)}else{$("#submit_btn").attr("disabled",true)}if(e.prop("checked")){$("#blum-micali_pnl").fadeIn()}else{$("#blum-micali_pnl").fadeOut()}if(t.prop("checked")){$("#rsa_pnl").fadeIn()}else{$("#rsa_pnl").fadeOut()}}function validate(e){$(".has-error.has-feedback").removeClass("has-error has-feedback");$("span.glyphicon.glyphicon-remove.form-control-feedback").remove();var t='<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>';var n=false;if($("#blum-micali_cb").prop("checked")){var r=$("#first_num_bm");if(!isNaturalNumber(r.val())||!isPrime(r.val())){r.after(t);r.parent().addClass("has-error has-feedback");n=true}var i=$("#second_num_bm");if(!isNaturalNumber(i.val())||!isPrime(i.val())){i.after(t);i.parent().addClass("has-error has-feedback");n=true}var s=$("#seed_bm");if(!isNaturalNumber(s.val())){s.after(t);s.parent().addClass("has-error has-feedback");n=true}var o=$("#max_number_bm");if(!isNaturalNumber(o.val())){o.after(t);o.parent().addClass("has-error has-feedback");n=true}var u=$("#count_bm");if(!isNaturalNumber(u.val())){u.after(t);u.parent().addClass("has-error has-feedback");n=true}}if($("#rsa_cb").prop("checked")){var a=$("#first_num_rsa");if(!isNaturalNumber(a.val())||!isPrime(a.val())){a.after(t);a.parent().addClass("has-error has-feedback");n=true}var f=$("#second_num_rsa");if(!isNaturalNumber(f.val())||!isPrime(f.val())){f.after(t);f.parent().addClass("has-error has-feedback");n=true}var l=$("#coprime_num_rsa");if(!isNaturalNumber(l.val())||!isNaturalNumber(a.val())||!isNaturalNumber(f.val())||!areCoprime(l.val(),a.val(),f.val())){l.after(t);l.parent().addClass("has-error has-feedback");n=true}var c=$("#seed_rsa");if(!isNaturalNumber(c.val())||!isNaturalNumber(a.val())||!isNaturalNumber(f.val())||!(c.val()<a.val()*f.val())){c.after(t);c.parent().addClass("has-error has-feedback");n=true}var h=$("#max_number_rsa");if(!isNaturalNumber(h.val())){h.after(t);h.parent().addClass("has-error has-feedback");n=true}var p=$("#count_rsa");if(!isNaturalNumber(p.val())){p.after(t);p.parent().addClass("has-error has-feedback");n=true}}return!n}function isPrime(e){if(e<3){return false}if(e>Math.pow(2,30)){var t=false;$.ajax({url:"api/isPrime/"+e,async:false,dataType:"json",error:function(){alert("Error, while connecting to server. Please try again.")},success:function(e){if(e["isPrime"]===true){t=true}}});return t}else{var n=Math.ceil(Math.sqrt(e));for(i=2;i<=n;i++){if(e%i===0){return false}return true}}}function areCoprime(e,t,n){if(e<2||t<2||n<2){return false}var r=Math.pow(2,15);if(e>r||t>r||n>r){var i=false;$.ajax({url:"api/areCoprime/"+e+","+t+","+n,async:false,dataType:"json",error:function(){alert("Error, while connecting to server. Please try again.")},success:function(e){if(e["areCoprime"]===true){i=true}}});return i}else{var s=function(e,t){if(!t){return e}return s(t,e%t)};if(s(e,(t-1)*(n-1))===1){return true}return false}}function isNaturalNumber(e){return!(e.indexOf("-")>-1)&&!(e.indexOf(".")>-1)&&!isNaN(e)&&e!=0}jQuery(window).load(function(){checkVisibility();$("#blum-micali_cb").click(function(){$("#blum-micali_pnl").fadeToggle();checkVisibility()});$("#rsa_cb").click(function(){$("#rsa_pnl").fadeToggle();checkVisibility()})})